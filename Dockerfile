# ১. আমরা পাইথনের একটি অফিসিয়াল ইমেজ ব্যবহার করছি
FROM python:3.10-slim

# ২. কন্টেইনারের ভেতরে কাজের ফোল্ডার সেট করছি
WORKDIR /app

# ৩. আগে লাইব্রেরি লিস্ট কপি করছি (ক্যাশিং এর জন্য ভালো)
COPY requirements.txt .

# ৪. লাইব্রেরিগুলো ইন্সটল করছি (এখানে venv লাগবে না, কারণ কন্টেইনার নিজেই আইসোলেটেড)
RUN pip install --no-cache-dir -r requirements.txt

# ৫. এখন আমাদের বাকি কোড (main.py) কপি করছি
COPY . .

# ৬. সার্ভার রান করার কমান্ড
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]